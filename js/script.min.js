document.getElementById("calculate").addEventListener("click",function(){const day=parseInt(document.getElementById("day").value,10);const month=parseInt(document.getElementById("month").value,10);const year=parseInt(document.getElementById("year").value,10);if(isNaN(day)||isNaN(month)||isNaN(year)){const modal=document.getElementById("myModal");modal.style.display="block";const span=document.getElementsByClassName("close")[0];span.addEventListener("click",function(){modal.style.display="none"});window.addEventListener("click",function(event){if(event.target==modal){modal.style.display="none"}});return}document.getElementById("data").textContent=`${day}.${month}.${year}`;const firstNumber=sumOfDigits(day)+sumOfDigits(month)+sumOfDigits(year);document.getElementById("first-number").textContent=firstNumber;const secondNumber=sumOfDigits(firstNumber);document.getElementById("second-number").textContent=secondNumber;const firstDigit=parseInt(String(day)[0])||parseInt(String(day)[1]);const thirdNumber=firstNumber-2*firstDigit;document.getElementById("third-number").textContent=thirdNumber;const fourthNumber=sumOfDigits(thirdNumber);document.getElementById("fourth-number").textContent=fourthNumber;const destinyNumber=getSingleDigitNumber(firstNumber);document.getElementById("destiny").textContent=destinyNumber;const allNumbers=[day,month,year,firstNumber,secondNumber,thirdNumber,fourthNumber];const occurrencesOfOne=getOccurrencesOfDigit(allNumbers,1);const occurrencesOfTwo=getOccurrencesOfDigit(allNumbers,2);const occurrencesOfThree=getOccurrencesOfDigit(allNumbers,3);const occurrencesOfFour=getOccurrencesOfDigit(allNumbers,4);const occurrencesOfFive=getOccurrencesOfDigit(allNumbers,5);const occurrencesOfSix=getOccurrencesOfDigit(allNumbers,6);const occurrencesOfSeven=getOccurrencesOfDigit(allNumbers,7);const occurrencesOfEight=getOccurrencesOfDigit(allNumbers,8);const occurrencesOfNine=getOccurrencesOfDigit(allNumbers,9);document.getElementById("character-cell").textContent=occurrencesOfOne?"1".repeat(occurrencesOfOne):"Пусто";document.getElementById("energy-cell").textContent=occurrencesOfTwo?"2".repeat(occurrencesOfTwo):"Пусто";document.getElementById("interest-cell").textContent=occurrencesOfThree?"3".repeat(occurrencesOfThree):"Пусто";document.getElementById("health-cell").textContent=occurrencesOfFour?"4".repeat(occurrencesOfFour):"Пусто";document.getElementById("logic-cell").textContent=occurrencesOfFive?"5".repeat(occurrencesOfFive):"Пусто";document.getElementById("labor-cell").textContent=occurrencesOfSix?"6".repeat(occurrencesOfSix):"Пусто";document.getElementById("luck-cell").textContent=occurrencesOfSeven?"7".repeat(occurrencesOfSeven):"Пусто";document.getElementById("duty-cell").textContent=occurrencesOfEight?"8".repeat(occurrencesOfEight):"Пусто";document.getElementById("memory-cell").textContent=occurrencesOfNine?"9".repeat(occurrencesOfNine):"Пусто";const getInterest=occurrencesOfThree?"3".repeat(occurrencesOfThree):"";const getLogic=occurrencesOfFive?"5".repeat(occurrencesOfFive):"";const getLuck=occurrencesOfSeven?"7".repeat(occurrencesOfSeven):"";const getTemperament=getInterest.length+getLogic.length+getLuck.length;document.getElementById("temperament-cell").textContent=getTemperament;const getCharacter=occurrencesOfOne?"1".repeat(occurrencesOfOne):"";const getHealth=occurrencesOfFour?"4".repeat(occurrencesOfFour):"";const getPurposefulness=getCharacter.length+getHealth.length+getLuck.length;document.getElementById("purposefulness-cell").textContent=getPurposefulness;const getLabor=occurrencesOfSix?"6".repeat(occurrencesOfSix):"";const getEverydayLife=getHealth.length+getLogic.length+getLabor.length;document.getElementById("everydayLife-cell").textContent=getEverydayLife;const getEnergy=occurrencesOfTwo?"2".repeat(occurrencesOfTwo):"";const getDuty=occurrencesOfEight?"8".repeat(occurrencesOfEight):"";const getFamily=getEnergy.length+getLogic.length+getDuty.length;document.getElementById("family-cell").textContent=getFamily;const getMemory=occurrencesOfNine?"9".repeat(occurrencesOfNine):"";const getStable=getInterest.length+getLabor.length+getMemory.length;document.getElementById("stable-cell").textContent=getStable;document.getElementById("matrix-inline").textContent=`${getCharacter}/${getEnergy}/${getInterest}/${getHealth}/${getLogic}/${getLabor}/${getLuck}/${getDuty}/${getMemory}; ЧС:${destinyNumber} Б:${getEverydayLife} Т:${getTemperament} Ц:${getPurposefulness} С:${getFamily} П:${getStable}`});function sumOfDigits(num){return String(num).split("").reduce((sum,digit)=>sum+parseInt(digit,10),0)}function getSingleDigitNumber(num){if(num<10){return num}if(num===11){return 11}let result=num;while(result>=10&&result!==11){result=sumOfDigits(result)}return result}function getOccurrencesOfDigit(numbers,digit){let occurrences=0;const digitStr=digit.toString();for(let num of numbers){const numStr=num.toString();for(let i=0;i<numStr.length;i++){if(numStr[i]===digitStr){occurrences++}}}return occurrences}